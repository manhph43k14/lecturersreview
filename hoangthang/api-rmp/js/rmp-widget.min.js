if(document.readyState=='complete'){rmpWidget()}else if(window.addEventListener){window.addEventListener('load',rmpWidget)}else if(document.addEventListener){document.addEventListener('DOMContentLoaded',rmpWidget)}else{document.attachEvent('onreadystatechange',function(){if(document.readyState=='complete')rmpWidget()})}
var rmp_configs;function rmpWidget(){try{var rmp_widget_js=document.getElementById('rmp_widget_js');var rmp_widget_js_url=rmp_widget_js.src.split("/js")[0];var server_env=rmpGetServerEnv();var rmp_widget_device={is_android:function(){return navigator.userAgent.match(/Android/i)},is_blackberry:function(){return navigator.userAgent.match(/BlackBerry/i)},is_iphone:function(){return navigator.userAgent.match(/iPhone/i)},is_ipad:function(){return navigator.userAgent.match(/iPad/i)},is_ipod:function(){return navigator.userAgent.match(/iPod/i)},is_ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},is_windows_phone:function(){return navigator.userAgent.match(/IEMobile/i)},is_mobile:function(){return(rmp_widget_device.is_android()||rmp_widget_device.is_blackberry()||rmp_widget_device.is_ios()||rmp_widget_device.is_windows_phone())}};var rmp_url=rmp_widget_js_url.replace("api-","");rmp_configs={version:'1.9.1',server_path:rmp_widget_js_url,source_app_id:document.getElementById('rmp_widget').getAttribute("data-source-app-id"),session_storage_name:"rmp_token",cookie_name:"rmp_token",server_env:server_env,minified:(server_env=="dev")?"":".min",loading_message:"Loading...",waiting_message:"Please wait...",search_business_list_empty_message:"Nothing to display here",visitor_device:(rmp_widget_device.is_mobile()&&window.innerWidth<700)?"mobile":"desktop",rmp_url:rmp_url};if(rmp_configs.source_app_id==6){sessionStorage.removeItem(rmp_configs.session_storage_name)}
if(typeof rmpGetToken(rmp_configs)=="undefined"||rmpGetToken(rmp_configs)==null){var ele=document.getElementById("rmp_widget");ele.parentNode.removeChild(ele);return}
rmpIncludeCss(rmp_configs);rmpShowNotice(rmp_configs.loading_message,"info");rmpCallApi(rmp_configs.server_path+'/v1/apps/list',{"source_app_id":parseInt(rmp_configs.source_app_id)},rmpGetToken(rmp_configs),function(){if(this.readyState==4&&this.status==200){var json=rmpJsonParse(this.responseText);if(typeof json!='undefined'&&json.result===0&&typeof json.data!='undefined'){if(typeof json.data.label!="undefined"){if(typeof json.data.label.loading!="undefined"&&json.data.label.loading!=null&&json.data.label.loading!=""){rmp_configs.loading_message=json.data.label.loading}
if(typeof json.data.label.waiting!="undefined"&&json.data.label.waiting!=null&&json.data.label.waiting!=""){rmp_configs.waiting_message=json.data.label.waiting}
if(typeof json.data.label.have_no_data!="undefined"&&json.data.label.have_no_data!=null&&json.data.label.have_no_data!=""){rmp_configs.search_business_list_empty_message=json.data.label.have_no_data}}
removeEventListener('resize',rmpWidgetPosition);rmpRenderWidget(json.data,rmp_configs);rmpWidgetPosition();addEventListener('resize',rmpWidgetPosition)}else{var ele=document.getElementById("rmp_widget");ele.parentNode.removeChild(ele);return}
rmpHideNotice()}},!1)}catch(err){}}
function rmpGetServerEnv(){try{var hostname=window.location.hostname.toLowerCase();var server_env="prod";if(hostname.indexOf("-dev")){server_env="dev"}else if(hostname.indexOf("-test")){server_env="test"}else if(hostname.indexOf("-staging")){server_env="staging"}
return server_env}catch(err){return"dev"}}
function rmpIncludeCss(rmp_configs){try{var rmpCssId='rmp-widget-css';if(!document.getElementById(rmpCssId)){var head=document.getElementsByTagName('head')[0];var link=document.createElement('link');link.id=rmpCssId;link.rel='stylesheet';link.type='text/css';link.href=rmp_configs.server_path+'/css/rmp-widget'+rmp_configs.minified+'.css?v='+rmp_configs.version;link.media='all';head.appendChild(link)}}catch(err){}}
function rmpCallApi(url,data,token,callback,with_credentials){try{var http=new XMLHttpRequest();http.onreadystatechange=callback;http.open('POST',url,!0);http.setRequestHeader('X-Requested-With','XMLHttpRequest');http.setRequestHeader('Content-type','application/json');http.setRequestHeader("Authorization","Bearer "+token);http.withCredentials=with_credentials;http.send(JSON.stringify(data))}catch(err){}}
function rmpGetToken(rmp_configs){if(rmp_configs.source_app_id==2||rmp_configs.source_app_id==7){rmp_configs.session_storage_name="readycrm";rmp_configs.cookie_name="readycrm"}
var token='';if((typeof rmpGetSessionStorage(rmp_configs.session_storage_name)!="undefined"&&rmpGetSessionStorage(rmp_configs.session_storage_name)!=null)&&(rmp_configs.source_app_id==2||rmp_configs.source_app_id==6||rmp_configs.source_app_id==7||rmp_configs.source_app_id==9)){var token=rmpGetSessionStorage(rmp_configs.session_storage_name)}else{var token=rmpGetCookie(rmp_configs.cookie_name);if(token){rmpSetSessionStorage(rmp_configs.session_storage_name,token)}}
return token}
function rmpGetCookie(name){var v=document.cookie.match('(^|;) ?'+name+'=([^;]*)(;|$)');return v?v[2]:null}
function rmpSetCookie(name,value,days){var d=new Date;d.setTime(d.getTime()+24*60*60*1000*days);document.cookie=name+"="+value+";path=/;expires="+d.toGMTString()}
function rmpDeleteCookie(name){rmpSetCookie(name,'',-1)}
function rmpSetSessionStorage(name,value){try{sessionStorage.setItem(name,value)}catch(e){}}
function rmpGetSessionStorage(name){try{return sessionStorage.getItem(name)}catch(e){return null}}
function rmpJsonParse(text){try{var json=JSON.parse(text)}catch(e){return!1}
return json}
function rmpRenderWidget(data,rmp_configs){try{var style="";if(window.innerWidth<1024){var rmp_widget_max_width=(window.innerWidth>450)?400:window.innerWidth;var rmp_widget_min_width=(window.innerWidth>450)?400:window.innerWidth;style='max-width:'+rmp_widget_max_width+'px !important;min-width:'+rmp_widget_min_width+'px !important;';if(window.innerWidth>450){style+="left:auto !important; right: 0px !important;"}
if(window.innerHeight<window.innerWidth){style+="max-height: 80%;overflow-y: scroll;"}
document.getElementById("rmp_widget").classList.add("rmp-widget-mobile")}else{document.getElementById("rmp_widget").classList.add("rmp-widget-desktop")}
let user_info_template='';if(typeof data.user_info!=='undefined'){user_info_template='<div class="rmp-app-user-info-container"><div class="rmp-app-user-info-card-photo"><img class="user-info-photo" src="'+data.user_info.photo+'" onerror="this.onerror=null;this.src=\''+rmp_configs.server_path+'/v1/user/photo/0\';"></div><div class="rmp-app-user-info-detail"><div class="user-info-display-name">'+data.user_info.display_name+'</div><div class="user-info-email">'+data.user_info.username+'</div></div><div class="ask-for-support" onclick="openAskSupportUrl(\''+data.ask_support_url+'\')"><i class="rmp-widget-material-icons">headset_mic</i><div class="ask-support-description">'+data.label.questions+'</div></div></div>'}
let app_container_template='<button onclick="rmpShowAppList()" class="rmp-app-selected "></button><div id="rmp_widget_content" class="rmp-app-container" style="'+style+'">'+user_info_template+'<div class="rmp-app-header rmp-overflow-hidden" id="rmp_app_header">'+data.business_name+'</div><div id="rmp_app_main_body"><div class="rmp-app-notice-container" id="rmp_app_notice_container"><div class="rmp-app-notice-btn-close" onclick="rmpHideNotice();"></div><div class="rmp-app-notice-body" id="rmp_app_notice_body"></div></div><div class="rmp-app-body"><div class="rmp-app-row"><div class="rmp-widget-col-lg-12 rmp-widget-col-md-12 rmp-widget-col-xs-12"><div class="rmp-widget-col-lg-3 rmp-widget-col-md-3 rmp-app-block" data-app-category-id="1"></div><div class="rmp-widget-col-lg-6 rmp-widget-col-md-6 rmp-app-block-2-col" data-app-category-id="2"></div><div class="rmp-widget-col-lg-3 rmp-widget-col-md-3 rmp-app-block" data-app-category-id="3"></div></div></div></div><div class="rmp-app-body add-ons"><div class="rmp-app-row-add-ons"><div class="rmp-widget-col-lg-12 rmp-widget-col-md-12 rmp-widget-col-xs-12"><div class="rmp-widget-col-lg-12 rmp-widget-col-md-12 rmp-app-block" data-app-category-id="4"></div></div></div></div></div><div class="rmp-app-footer" id="rmp_app_footer"></div>';let app_current_template='<span class="rmp-widget-btn-mobile"><i class="rmp-fa rmp-fa-th"></i></span><span class="rmp-widget-btn-desktop"><i class="rmp-fa rmp-fas rmp-{{app_icon}}"></i><span id="rmp_app_selected">{{app_name}}</span></span>';let app_footer_template='<a id = "rmp_home_btn" href="javascript:void(0);"  title="{{menu_description}}"><i class="rmp-fa rmp-fas rmp-{{menu_icon}}"></i> {{menu_name}}</a>';let rmp_widget=document.getElementById("rmp_widget");rmp_widget.insertAdjacentHTML("afterbegin",app_container_template);let rmp_widget_current_app=document.getElementsByClassName("rmp-app-selected")[0];app_current_template=app_current_template.replace("{{app_icon1}}",data.current_app.app_icon).replace("{{app_icon}}",data.current_app.app_icon).replace("{{app_name}}",data.current_app.app_name);rmp_widget_current_app.insertAdjacentHTML("afterbegin",app_current_template);let rmp_widget_footer=document.getElementsByClassName("rmp-app-footer")[0];app_footer_template=app_footer_template.replace("{{menu_description}}",data.menu[0].menu_description).replace("{{menu_icon}}",data.menu[0].menu_icon).replace("{{menu_url}}",data.menu[0].menu_url).replace("{{menu_name}}",data.menu[0].menu_name);if(typeof data.menu[1]!=='undefined'){app_footer_template+='<a id = "rmp_sign_out_btn" href="javascript:void(0);" title="{{menu_description}}"><i class="rmp-fa rmp-fas rmp-{{menu_icon}}"></i> {{menu_name}}</a>';app_footer_template=app_footer_template.replace("{{menu_description}}",data.menu[1].menu_description).replace("{{menu_icon}}",data.menu[1].menu_icon).replace("{{menu_url}}",data.menu[1].menu_url).replace("{{menu_name}}",data.menu[1].menu_name)}
rmp_widget_footer.insertAdjacentHTML("afterbegin",app_footer_template);document.addEventListener("click",function(event){if(event.target.closest("#rmp_widget_content")||event.target.closest("#rmp_widget"))return;rmpHideAppList()});let rmp_home_btn=document.querySelector('#rmp_home_btn');if(typeof rmp_home_btn!=undefined&&rmp_home_btn!=null){rmp_home_btn.addEventListener("click",function(event){rmpVerifyApp(0,rmp_configs,"app_switcher_home")})}
let rmp_sign_out_btn=document.querySelector('#rmp_sign_out_btn');if(typeof rmp_sign_out_btn!=undefined&&rmp_sign_out_btn!=null){if(typeof data.menu[1]!=='undefined'){rmp_sign_out_btn.addEventListener("click",function(event){rmpSignOut(data.menu[1].menu_url)})}}}catch(err){console.log(err)}}
function openAskSupportUrl(url){rmpSwitcherAskForSupport();window.open(url,'new_window')}
function rmpRenderWidgetApp(data){let app_category_template='<div class="rmp-app-category"><span class="app-category"> {{app_category_name}}<span></div><div class="rmp-app-list"></div>';let app_template='<div class="rmp-app {{app.app_status}}" data-destination-app-id="{{app.app_id}}"><div class="rmp-app-icon"><i class="rmp-fa rmp-{{app.app_icon}}"></i></div><div class="rmp-app-name {{app_name.padding-class}}">{{app.app_name}}</div></div>';document.querySelectorAll('[data-app-category-id] > div').forEach(function(item){item.remove()});data.apps.forEach(function(item){let app_category_id=item.app_category_id;let c=app_category_template;c=c.replace("{{app_category_name}}",item.app_category_name);let app_category=document.querySelector('[data-app-category-id="'+app_category_id+'"]');app_category.insertAdjacentHTML("beforeend",c);item.app_list.forEach(function(item){let a=app_template;var app_padding_class="";a=a.replace("{{app_name.padding-class}}",app_padding_class);a=a.replace("{{app.app_status}}",item.app_status);a=a.replace("{{app.app_id}}",item.app_id);a=a.replace("{{app.app_icon}}",item.app_icon);a=a.replace("{{app.app_name}}",item.app_name);app_category.querySelector(".rmp-app-list").insertAdjacentHTML("beforeend",a);document.querySelector('[data-destination-app-id="'+item.app_id+'"]').addEventListener("click",function(event){if(this.classList.contains('enabled')){event.preventDefault();rmpVerifyApp(item.app_id,rmp_configs,item.app_id)}})})})}
function rmpSignOut(url){try{rmpSwitcherTracking();setTimeout(function(){rmpShowNotice(rmp_configs.waiting_message,"info");rmpDeleteCookie("readycrm");rmpDeleteCookie("rmp_token");sessionStorage.removeItem("readycrm");sessionStorage.removeItem("rmp_token");window.location=url;rmpHideNotice()},1500)}catch(err){rmpHideNotice()}}
function rmpSwitcherTracking(){rmpCallApi(rmp_configs.server_path+'/v1/tracking/save',{"source":rmp_configs.source_app_id,"destination":"app_switcher_logout","type":"menu"},rmpGetToken(rmp_configs),function(res){})}
function rmpSwitcherSwitchBusiness(){rmpCallApi(rmp_configs.server_path+'/v1/tracking/save',{"source":rmp_configs.source_app_id,"destination":"app_switcher_switch_business","type":"menu"},rmpGetToken(rmp_configs),function(res){})}
function rmpSwitcherAskForSupport(){rmpCallApi(rmp_configs.server_path+'/v1/tracking/save',{"source":rmp_configs.source_app_id,"destination":"ask_for_support","type":"menu"},rmpGetToken(rmp_configs),function(res){})}
function rmpVerifyApp(destination_app_id,rmp_configs,destination_tracking){try{if(rmp_configs.source_app_id==destination_app_id){rmpHideAppList();return}
rmpShowNotice(rmp_configs.waiting_message,"info");rmpCallApi(rmp_configs.server_path+'/v1/apps/authorize',{"source_app_id":parseInt(rmp_configs.source_app_id),"destination_app_id":parseInt(destination_app_id),"destination_tracking":destination_tracking},rmpGetToken(rmp_configs),function(){if(this.readyState==4&&this.status==200){var res=rmpJsonParse(this.responseText);if(typeof res!='undefined'&&res.result===0){if(typeof res.app_otp!="undefined"&&res.app_otp!=""){rmpGotoAppWithOTP(res)}else if(typeof res.app_token!="undefined"&&res.app_token!=""){rmpGotoApp(res,destination_app_id)}
rmpHideNotice();rmpHideAppList()}else{rmpShowNotice(res.message,"error")}}},!1)}catch(err){}}
function rmpGotoApp(data,destination_app_id){try{rmpCallApi(data.app_authorize_url,{"destination_app_id":parseInt(destination_app_id)},data.app_token,function(){if(this.readyState==4&&this.status==200){var res=rmpJsonParse(this.responseText);if(typeof res!='undefined'&&res.result===0){window.location=data.app_url}else{rmpShowNotice(res.message,"error")}}},!0)}catch(err){}}
function rmpGotoAppWithOTP(data){if(typeof data.app_url!="undefined"){if(data.app_url.indexOf("?")===-1){var full_app_url=data.app_url+"?otp="+data.app_otp}else{var full_app_url=data.app_url+"&otp="+data.app_otp}
window.location=full_app_url}else{rmpShowNotice("URL not specified","error")}}
function rmpShowNotice(message,type){try{rmpHideNotice();document.querySelectorAll('[data-app-category-id]').forEach(function(i){i.classList.add('hide');i.style.visibility='hidden'});var rmp_app_notice_container=document.getElementById("rmp_app_notice_container");var rmp_app_notice_body=document.getElementById("rmp_app_notice_body");var rmp_app_footer=document.getElementById("rmp_app_footer");rmp_app_notice_body.textContent=message;rmp_app_notice_container.classList.add(type);rmp_app_footer.classList.add("hide")}catch(err){}}
function rmpHideNotice(){try{var rmp_app_footer=document.getElementById("rmp_app_footer");var rmp_app_notice_container=document.getElementById("rmp_app_notice_container");rmp_app_notice_container.classList.remove("info");rmp_app_notice_container.classList.remove("error");rmp_app_footer.classList.remove("hide");document.querySelectorAll('[data-app-category-id]').forEach(function(i){i.classList.remove('hide');i.style.visibility='visible'})}catch(err){}}
function rmpShowAppList(){try{rmpGetWidgetApp(rmp_configs);document.getElementById("rmp_widget_content").classList.toggle("rmp-widget-show");document.getElementById("rmp_widget").classList.toggle('open');if((document.getElementById('rmp_widget_content').offsetHeight+document.getElementById('rmp_widget_content').offsetTop)>window.innerHeight){document.getElementById('rmp_widget_content').classList.add('set-widget-top')}
if(document.getElementById('salesdesk_widget_button_group').offsetWidth>0&&document.getElementById('salesdesk_widget_button_group').offsetHeight>0){if(document.getElementById("rmp_widget_content").classList.contains('rmp-widget-show')){document.getElementById('salesdesk_widget_button_group').classList.add('set-widget-z-index')}else{document.getElementById('salesdesk_widget_button_group').classList.remove('set-widget-z-index')}}}catch(err){}}
function rmpHideAppList(){try{document.getElementById("rmp_widget_content").classList.remove("rmp-widget-show");document.getElementById("rmp_widget").classList.remove('open');document.getElementById("rmp_change_business_list").classList.remove('rmp-change-business-list-show');document.getElementById('rmp_widget_content').classList.remove('set-widget-top');if(document.getElementById('salesdesk_widget_button_group').offsetWidth>0&&document.getElementById('salesdesk_widget_button_group').offsetHeight>0){document.getElementById('salesdesk_widget_button_group').classList.remove('set-widget-z-index')}}catch(err){}}
function rmpWidgetPosition(){try{var rmp_app_container=document.querySelectorAll('.rmp-app-container');for(var i=0;i<rmp_app_container.length;i++){var container=rmp_app_container[i];var rect=container.getBoundingClientRect();var body=document.body.getBoundingClientRect();if(rect.right>body.right){container.style.left='auto';container.style.right=0}if(rect.left<body.left){container.style.left=0;container.style.right='auto'}}}catch(err){}}
function rmpGetWidgetApp(rmp_configs){rmpShowNotice(rmp_configs.loading_message,"info");rmpCallApi(rmp_configs.server_path+'/v1/apps/list',{"source_app_id":parseInt(rmp_configs.source_app_id)},rmpGetToken(rmp_configs),function(){if(this.readyState==4&&this.status==200){var json=rmpJsonParse(this.responseText);if(typeof json!='undefined'&&json.result===0&&typeof json.data!='undefined'){removeEventListener('resize',rmpWidgetPosition);rmpRenderWidgetApp(json.data);rmpWidgetPosition();addEventListener('resize',rmpWidgetPosition);rmpRenderBusinessList(json.data)}else{var ele=document.getElementById("rmp_widget");ele.parentNode.removeChild(ele);return}
rmpHideNotice()}},!1)}
function rmpSearchBusinessList(){var input,filter,content_list,a,i,txt_value,search_result=0;document.getElementById("rmp_search_business_empty").classList.add("hide");input=document.getElementById('rmp_search_business_keyword');filter=input.value.toUpperCase();if(filter.length>0&&filter.length<2){return}
content_list=document.getElementById("rmp_change_business_content_list").getElementsByTagName('a');for(i=0;i<content_list.length;i++){a=content_list[i];txt_value=a.textContent||a.innerText;if(txt_value.toUpperCase().indexOf(filter)>-1){a.style.display="";search_result++}else{a.style.display="none"}}
if(search_result==0){document.getElementById("rmp_search_business_empty").classList.remove("hide")}}
function rmpShowHideBusinessList(){document.getElementById("rmp_change_business_list").classList.toggle("rmp-change-business-list-show");document.getElementById("rmp_change_business_toggle").classList.toggle("open")}
function rmpRenderBusinessList(data){if(typeof data.business_list!="undefined"&&data.business_list.length<=1){document.getElementById("rmp_app_header").classList.add("rmp-overflow-hidden");return}else{document.getElementById("rmp_app_header").classList.remove("rmp-overflow-hidden")}
let business_select_template='<div><div id="divRmpShowHideBusinessList" onclick="rmpShowHideBusinessList()"  ><span  class="rmp-change-business-list-dropbtn" id="rmp_change_business_toggle">'+data.business_name+'</span></div><div id = "rmp_change_business_list" class="rmp-change-business-content"><div id = "rmp_search_business_container" class="rmp-change-business-content-search hide"><div><i class="rmp-fa rmp-fas fa-search"></i><input type="text" class="rmp-search-business-keyword" id="rmp_search_business_keyword" onkeyup="rmpSearchBusinessList();"></div><div><button onclick="rmpShowHideBusinessList()"><i class="rmp-fa rmp-fas fa-times"></i></button></div></div><div class="rmp-change-business-content-list" id="rmp_change_business_content_list">{{option_list}}</div></div></div>';let business_option_template='<a href="javascript:void(0);" class="{{business_selected}}" onclick="{{action}}">{{business_name}}</a>';let option_list='';data.business_list.forEach(function(item){let a=business_option_template;if(data.business_id==item.business_id){a=a.replace("{{business_selected}}",'business-selected');a=a.replace("{{action}}",'rmpShowHideBusinessList();')}else{a=a.replace("{{business_selected}}",'');a=a.replace("{{action}}",'rmpChangeBusiness(\'{{business_id}}\');');a=a.replace("{{business_id}}",item.business_id)}
a=a.replace("{{business_name}}",item.business_name);option_list+=a;option_list+='<div class="rmp-search-business-empty hide" id="rmp_search_business_empty">'+rmp_configs.search_business_list_empty_message+'</div>'});if(typeof option_list!="undefined"&&option_list!=''&&option_list!=null){business_select_template=business_select_template.replace("{{option_list}}",option_list)}
let rmp_widget_header=document.querySelector('.rmp-app-header');rmp_widget_header.innerHTML="";rmp_widget_header.insertAdjacentHTML("afterbegin",business_select_template);if(data.business_list.length>1){document.getElementById("rmp_search_business_container").classList.remove("hide");document.getElementById("rmp_change_business_content_list").classList.remove("rmp-hide-search")}else{document.getElementById("rmp_search_business_container").classList.add("hide");document.getElementById("rmp_change_business_content_list").classList.add("rmp-hide-search")}}
function rmpChangeBusiness(business_id){rmpSwitcherSwitchBusiness();rmpShowNotice(rmp_configs.loading_message,"info");rmpCallApi(rmp_configs.server_path+'/v1/business/switch',{"app_id":parseInt(rmp_configs.source_app_id),"destination_business_id":business_id},rmpGetToken(rmp_configs),function(){if(this.readyState==4&&this.status==200){var json=rmpJsonParse(this.responseText);if(typeof json!='undefined'){if(json.result===0&&typeof json.app_otp!="undefined"&&json.app_otp!=""&&json.app_otp!=null&&typeof json.app_url!="undefined"&&json.app_url!=""&&json.app_otp!=null){rmpDeleteCookie(rmp_configs.cookie_name);var app_id=parseInt(rmp_configs.source_app_id);if(app_id===7||app_id===2){sessionStorage.removeItem("readycrm");sessionStorage.removeItem("register_rms_token");rmpDeleteCookie("readycrm")}else if(app_id===6){sessionStorage.removeItem("login_session");rmpDeleteCookie("login_session");sessionStorage.removeItem("_shappy_session");rmpDeleteCookie("_shappy_session")}
sessionStorage.removeItem(rmp_configs.session_storage_name);rmpGotoAppWithOTP(json)}else{var full_redirect_url=rmp_configs.rmp_url;if(typeof json.rmp_otp!="undefined"&&json.rmp_otp!=null&&json.rmp_otp!=""){full_redirect_url+="/auth?otp="+json.rmp_otp+"&path=/notallowed"}else{full_redirect_url+="/notallowed"}
window.location=full_redirect_url}}else{window.location=rmp_configs.rmp_url+"/notallowed"}}},!1)}